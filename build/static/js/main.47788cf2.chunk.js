(this["webpackJsonpudemy-web-app"]=this["webpackJsonpudemy-web-app"]||[]).push([[0],{52:function(e,t,a){e.exports=a(82)},57:function(e,t,a){},59:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(17),i=a.n(r),c=(a(57),a(12)),l=a(13),o=a(15),u=a(14),m=(a(58),a(59),a(20)),d=a(5),h=a(48),p=a(16),g=a(21),E=a.n(g);var f=function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"form-check"},s.a.createElement("input",{onClick:function(t){var a=t.target.attributes.getNamedItem("name").value,n=t.target.attributes.getNamedItem("value").value,s={question:a,choice:n};e.onChoiceChange(s)},className:"form-check-input",type:"radio",name:e.name,value:e.option.choice}),s.a.createElement("label",{className:"form-check-label"},e.option.narrative)))};var v=function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("h5",{className:"card-title"},e.question.narrative),e.question.options.map((function(t,a){return s.a.createElement(f,{key:a,onChoiceChange:e.onChoiceChange,name:e.question.code,option:t})})))},b=a(85),y=a(86),w=a(89),k=a(88),q=a(18),N=a(19),O=a(84);var j=function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a,{animation:"grow",variant:"primary"}),s.a.createElement(O.a,{animation:"grow",variant:"secondary"}),s.a.createElement(O.a,{animation:"grow",variant:"success"}),s.a.createElement(O.a,{animation:"grow",variant:"danger"}),s.a.createElement(O.a,{animation:"grow",variant:"warning"}))},C=E.a.create({baseURL:"https://udemy-coding-challenge-api.herokuapp.com/",timeout:2e4}),x=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(c.a)(this,a);var s=(n=t.call(this,e)).props.match.params;return n.state={quizCode:s.code,quiz:{},questions:[],numberOfQuestions:0,index:0,isLastIndex:!1,progress:0,answers:[],currentQuestion:"",redirect:null,user:"",isLoading:!0},n.handleNextClick=n.handleNextClick.bind(Object(p.a)(n)),n.handleFinishClick=n.handleFinishClick.bind(Object(p.a)(n)),n.addAnswers=n.addAnswers.bind(Object(p.a)(n)),n}return Object(l.a)(a,[{key:"addAnswers",value:function(e){var t=this.state.answers,a=t.map((function(e){return e.question})).indexOf(e.question);-1!=a&&t.splice(a,1),t=[].concat(Object(h.a)(t),[e]),this.setState({answers:t})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params;C.get("/quizzes/code/"+t.code).then((function(t){200==t.status?e.setState({quiz:t.data,questions:t.data.questions,numberOfQuestions:t.data.questions.length,progress:0==t.data.questions.length?0:1/t.data.questions.length*100,currentQuestion:t.data.questions[0].code,isLoading:!1}):(e.setState({isLoading:!1}),alert(t.data.message))})).catch((function(t){e.setState({isLoading:!1}),alert("Unexpected error occured.")})),window.onbeforeunload=function(){return alert(),""}.bind(this)}},{key:"handleFinishClick",value:function(e){var t=this;if(-1!=this.state.answers.map((function(e){return e.question})).indexOf(this.state.currentQuestion)){var a={quiz:this.state.quizCode,answers:this.state.answers};this.setState({isLoading:!0}),C.post("/answer_sheets/",a).then((function(e){200==e.status?t.setState({user:e.data,redirect:!0}):(alert(e.data.message+". Kindly retry again."),t.setState({isLoading:!1}))})).catch((function(e){alert("Unexpected error occured.Kindly retry again."),t.setState({isLoading:!1})}))}else alert("Choose answer before proceeding")}},{key:"handleNextClick",value:function(e){-1!=this.state.answers.map((function(e){return e.question})).indexOf(this.state.currentQuestion)?(this.setState({index:this.state.index+1,progress:(this.state.index+2)/this.state.numberOfQuestions*100,currentQuestion:this.state.questions[this.state.index+1].code}),this.state.index+1==this.state.numberOfQuestions-1&&this.setState({isLastIndex:!0})):alert("Choose answer before proceeding")}},{key:"render",value:function(){var e,t,a=this;return this.state.redirect?s.a.createElement(d.a,{to:{pathname:"/results",state:{user:this.state.user}}}):(e=this.state.isLastIndex?s.a.createElement(b.a,{onClick:this.handleFinishClick,variant:"success",className:"float-right float-sm-right"},s.a.createElement("span",null," Finish ")," ",s.a.createElement(q.a,{icon:N.b})):s.a.createElement(b.a,{onClick:this.handleNextClick,variant:"success",className:"float-right float-sm-right"},s.a.createElement("span",null," Next ")," ",s.a.createElement(q.a,{icon:N.a})),0!=this.state.numberOfQuestions?t=s.a.createElement("label",null," ","".concat(this.state.index+1," / ").concat(this.state.numberOfQuestions," Questions.")," "):e=null,s.a.createElement("div",{className:"row justify-content-md-center"},s.a.createElement("div",{className:"col col-lg-6"}," ",this.state.isLoading?s.a.createElement("div",{className:"row justify-content-md-center"}," ",s.a.createElement(j,null)," "):s.a.createElement("div",null," ",s.a.createElement(y.a,{striped:!0,animated:!0,variant:"success",now:this.state.progress}),s.a.createElement(w.a,null,s.a.createElement(w.a.Header,null," ",this.state.quiz.name," "),s.a.createElement(w.a.Body,null,s.a.createElement(k.a,{controls:!1,touch:!1,interval:null,indicators:!1,activeIndex:this.state.index},this.state.questions.map((function(e,t){return s.a.createElement(k.a.Item,{key:t},s.a.createElement(v,{question:e,onChoiceChange:a.addAnswers}))})))),s.a.createElement(w.a.Footer,{className:"text-muted"}," ",t,e)))," ")))}}]),a}(s.a.Component),z=E.a.create({baseURL:"https://udemy-coding-challenge-api.herokuapp.com/",timeout:2e4}),L=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={quizzes:[],isLoading:!0},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;z.get("/quizzes/list").then((function(t){200==t.status?e.setState({quizzes:t.data.quizzes,isLoading:!1}):(e.setState({isLoading:!1}),alert(t.data.message+". Kindly retry."))})).catch((function(t){console.log(t),e.setState({isLoading:!1}),alert("An unexpected error occured. Kindly retry.")}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"row justify-content-md-center"},s.a.createElement("div",{className:"col col-lg-6"},s.a.createElement(w.a,null,s.a.createElement(w.a.Header,{className:"purple-card-header"}," ",s.a.createElement("b",null," Available Quiz "))," ",this.state.isLoading?s.a.createElement("div",{className:"row justify-content-md-center"},s.a.createElement(j,null)):s.a.createElement("ul",{className:"list-group"}," ",this.state.quizzes.map((function(e,t){return s.a.createElement("li",{key:t,className:"list-group-item d-flex justify-content-between align-items-center"},e.name,s.a.createElement("span",{className:"badge badge-primary badge-pill"},s.a.createElement(m.b,{className:"white-link",to:"/quiz/".concat(e.code)},s.a.createElement(q.a,{icon:N.a}))))}))))))}}]),a}(s.a.Component),S=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("h1",null,"Page Not Found")}}]),a}(s.a.Component),Q=a(87),F=E.a.create({baseURL:"https://udemy-coding-challenge-api.herokuapp.com/",timeout:2e4,headers:{"Content-Type":"application/json"}}),I=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={user:n.props.location.state.user,results:{},percentage:0,redirect:!1,isLoading:!0,tdClassName:""},n.redirectToHome=n.redirectToHome.bind(Object(p.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;F.get("/answer_sheets/user/"+this.state.user).then((function(t){200==t.status?e.setState({results:t.data,percentage:t.data.percentage.$numberDecimal,isLoading:!1,tdClassName:"Fail"==t.data.grade?"td-danger":"td-success"}):(alert(t.data.message+". Kindly retry again."),e.setState({isLoading:!1}))})).catch((function(t){e.setState({isLoading:!1}),alert("Unexpected error occured.Kindly retry again.")}))}},{key:"redirectToHome",value:function(e){this.setState({redirect:!0})}},{key:"render",value:function(){return this.state.redirect?s.a.createElement(d.a,{to:{pathname:"/quizapp/"}}):s.a.createElement("div",{className:"row justify-content-md-center"},s.a.createElement("div",{className:"col col-lg-6"},this.state.isLoading?s.a.createElement("div",{className:"row justify-content-md-center"}," ",s.a.createElement(j,null)," "):s.a.createElement(w.a,null,s.a.createElement(w.a.Header,{className:"purple-card-header"},s.a.createElement("b",null," Quiz Results")),s.a.createElement(w.a.Body,null,s.a.createElement(Q.a,{striped:!0,bordered:!0,responsive:!0},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null," Overal Score"),s.a.createElement("td",null," ",this.state.results.finalScore)),s.a.createElement("tr",null,s.a.createElement("td",null," Total Marks"),s.a.createElement("td",null," ",this.state.results.quizTotal)),s.a.createElement("tr",null,s.a.createElement("td",null,"Percentage"),s.a.createElement("td",null,"".concat(this.state.percentage," %"))),s.a.createElement("tr",null,s.a.createElement("td",null," Remark"),s.a.createElement("td",{className:this.state.tdClassName},this.state.results.grade))))),s.a.createElement(w.a.Footer,null,s.a.createElement(b.a,{onClick:this.redirectToHome,variant:"success",className:"float-right float-sm-right"},s.a.createElement("span",null," Take Another Quiz"),s.a.createElement(q.a,{icon:N.c}))))))}}]),a}(n.Component),T=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement(m.a,null,s.a.createElement("div",null,s.a.createElement(d.d,null,s.a.createElement(d.b,{exact:!0,path:"/quizapp/",component:L}),s.a.createElement(d.b,{exact:!0,path:"/",component:L}),s.a.createElement(d.b,{exact:!0,path:"/results",component:I}),s.a.createElement(d.b,{path:"/quiz/:code",component:x}),s.a.createElement(d.b,{component:S}))))}}]),a}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[52,1,2]]]);
//# sourceMappingURL=main.47788cf2.chunk.js.map