(this["webpackJsonpudemy-web-app"]=this["webpackJsonpudemy-web-app"]||[]).push([[0],{19:function(e,t){e.exports={baseUrl:"https://udemy-coding-challenge-api.herokuapp.com/",axiosTimeOut:2e4}},53:function(e,t,a){e.exports=a(83)},58:function(e,t,a){},60:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(21),i=a.n(s),c=(a(58),a(12)),l=a(13),o=a(15),u=a(14),m=(a(59),a(60),a(20)),d=a(5),h=a(49),p=a(16),E=a(22),g=a.n(E);var f=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{onClick:function(t){var a=t.target.attributes.getNamedItem("name").value,n=t.target.attributes.getNamedItem("value").value,r={question:a,choice:n};e.onChoiceChange(r)},className:"form-check-input",type:"radio",name:e.name,value:e.option.choice}),r.a.createElement("label",{className:"form-check-label"},e.option.narrative)))};var v=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",{className:"card-title"},e.question.narrative),e.question.options.map((function(t,a){return r.a.createElement(f,{key:a,onChoiceChange:e.onChoiceChange,name:e.question.code,option:t})})))},b=a(86),y=a(87),w=a(90),k=a(89),N=a(17),O=a(18),x=a(85);var j=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{class:"col col-md-12 d-flex justify-content-center "},r.a.createElement(x.a,{animation:"grow",variant:"primary"}),r.a.createElement(x.a,{animation:"grow",variant:"secondary"}),r.a.createElement(x.a,{animation:"grow",variant:"success"}),r.a.createElement(x.a,{animation:"grow",variant:"danger"}),r.a.createElement(x.a,{animation:"grow",variant:"warning"})))},q=a(19),C=a.n(q),z=g.a.create({baseURL:C.a.baseUrl,timeout:C.a.axiosTimeOut}),L=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(c.a)(this,a);var r=(n=t.call(this,e)).props.match.params;return n.state={quizCode:r.code,quiz:{},questions:[],numberOfQuestions:0,index:0,isLastIndex:!1,progress:0,answers:[],currentQuestion:"",redirect:null,user:"",isLoading:!0},n.handleNextClick=n.handleNextClick.bind(Object(p.a)(n)),n.handleFinishClick=n.handleFinishClick.bind(Object(p.a)(n)),n.addAnswers=n.addAnswers.bind(Object(p.a)(n)),n}return Object(l.a)(a,[{key:"addAnswers",value:function(e){var t=this.state.answers,a=t.map((function(e){return e.question})).indexOf(e.question);-1!=a&&t.splice(a,1),t=[].concat(Object(h.a)(t),[e]),this.setState({answers:t})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params;z.get("/quizzes/code/"+t.code).then((function(t){200==t.status?e.setState({quiz:t.data,questions:t.data.questions,numberOfQuestions:t.data.questions.length,progress:0==t.data.questions.length?0:1/t.data.questions.length*100,currentQuestion:t.data.questions[0].code,isLoading:!1}):(e.setState({isLoading:!1}),alert(t.data.message))})).catch((function(t){e.setState({isLoading:!1}),alert("Unexpected error occured.")})),window.onbeforeunload=function(){return alert(),""}.bind(this)}},{key:"handleFinishClick",value:function(e){var t=this;if(-1!=this.state.answers.map((function(e){return e.question})).indexOf(this.state.currentQuestion)){var a={quiz:this.state.quizCode,answers:this.state.answers};this.setState({isLoading:!0}),z.post("/answer_sheets/",a).then((function(e){200==e.status?t.setState({user:e.data,redirect:!0}):(alert(e.data.message+". Kindly retry again."),t.setState({isLoading:!1}))})).catch((function(e){alert("Unexpected error occured.Kindly retry again."),t.setState({isLoading:!1})}))}else alert("Choose answer before proceeding")}},{key:"handleNextClick",value:function(e){-1!=this.state.answers.map((function(e){return e.question})).indexOf(this.state.currentQuestion)?(this.setState({index:this.state.index+1,progress:(this.state.index+2)/this.state.numberOfQuestions*100,currentQuestion:this.state.questions[this.state.index+1].code}),this.state.index+1==this.state.numberOfQuestions-1&&this.setState({isLastIndex:!0})):alert("Choose answer before proceeding")}},{key:"render",value:function(){var e,t,a=this;return this.state.redirect?r.a.createElement(d.a,{to:{pathname:"/results",state:{user:this.state.user}}}):(e=this.state.isLastIndex?r.a.createElement(b.a,{onClick:this.handleFinishClick,variant:"success",className:"float-right float-sm-right"},r.a.createElement("span",null," Finish ")," ",r.a.createElement(N.a,{icon:O.b})):r.a.createElement(b.a,{onClick:this.handleNextClick,variant:"success",className:"float-right float-sm-right"},r.a.createElement("span",null," Next ")," ",r.a.createElement(N.a,{icon:O.a})),0!=this.state.numberOfQuestions?t=r.a.createElement("label",null," ","".concat(this.state.index+1," / ").concat(this.state.numberOfQuestions," Questions.")," "):e=null,r.a.createElement("div",{className:"row justify-content-md-center"},r.a.createElement("div",{className:"col col-lg-6"}," ",this.state.isLoading?r.a.createElement("div",{className:"row justify-content-md-center"}," ",r.a.createElement(j,null)," "):r.a.createElement("div",null," ",r.a.createElement(y.a,{striped:!0,animated:!0,variant:"success",now:this.state.progress}),r.a.createElement(w.a,null,r.a.createElement(w.a.Header,null," ",this.state.quiz.name," "),r.a.createElement(w.a.Body,null,r.a.createElement(k.a,{controls:!1,touch:!1,interval:null,indicators:!1,activeIndex:this.state.index},this.state.questions.map((function(e,t){return r.a.createElement(k.a.Item,{key:t},r.a.createElement(v,{question:e,onChoiceChange:a.addAnswers}))})))),r.a.createElement(w.a.Footer,{className:"text-muted"}," ",t,e)))," ")))}}]),a}(r.a.Component),S=g.a.create({baseURL:C.a.baseUrl,timeout:C.a.axiosTimeOut}),T=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={quizzes:[],isLoading:!0},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;S.get("/quizzes/list").then((function(t){200==t.status?e.setState({quizzes:t.data.quizzes,isLoading:!1}):(e.setState({isLoading:!1}),alert(t.data.message+". Kindly retry."))})).catch((function(t){console.log(t),e.setState({isLoading:!1}),alert("An unexpected error occured. Kindly retry.")}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"row justify-content-md-center"},r.a.createElement("div",{className:"col col-lg-6"},r.a.createElement(w.a,null,r.a.createElement(w.a.Header,{className:"purple-card-header"}," ",r.a.createElement("b",null," Available Quiz "))," ",this.state.isLoading?r.a.createElement("div",{className:"row justify-content-md-center"},r.a.createElement(j,null)):r.a.createElement("ul",{className:"list-group"}," ",this.state.quizzes.map((function(e,t){return r.a.createElement("li",{key:t,className:"list-group-item d-flex justify-content-between align-items-center"},e.name,r.a.createElement("span",{className:"badge badge-primary badge-pill"},r.a.createElement(m.b,{className:"white-link",to:"/quiz/".concat(e.code)},r.a.createElement(N.a,{icon:O.a}))))}))))))}}]),a}(r.a.Component),Q=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={redirect:!1},n.redirectToHome=n.redirectToHome.bind(Object(p.a)(n)),n}return Object(l.a)(a,[{key:"redirectToHome",value:function(e){this.setState({redirect:!0})}},{key:"render",value:function(){return this.state.redirect?r.a.createElement(d.a,{to:{pathname:"/quizapp/"}}):r.a.createElement("div",{className:"page-wrap d-flex flex-row align-items-center"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-md-12 text-center"},r.a.createElement("span",{className:"display-1 d-block"},"404"),r.a.createElement("div",{className:"mb-4 lead"},"The page you are looking for was not found."),r.a.createElement(b.a,{onClick:this.redirectToHome,variant:"primary",className:""},r.a.createElement("span",null,"Back To Home"),r.a.createElement(N.a,{icon:O.c}))))))}}]),a}(r.a.Component),H=a(88),F=g.a.create({baseURL:C.a.baseUrl,timeout:C.a.axiosTimeOut,headers:{"Content-Type":"application/json"}}),U=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={user:n.props.location.state.user,results:{},percentage:0,redirect:!1,isLoading:!0,tdClassName:""},n.redirectToHome=n.redirectToHome.bind(Object(p.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;F.get("/answer_sheets/user/"+this.state.user).then((function(t){200==t.status?e.setState({results:t.data,percentage:t.data.percentage.$numberDecimal,isLoading:!1,tdClassName:"Fail"==t.data.grade?"td-danger":"td-success"}):(alert(t.data.message+". Kindly retry again."),e.setState({isLoading:!1}))})).catch((function(t){e.setState({isLoading:!1}),alert("Unexpected error occured.Kindly retry again.")}))}},{key:"redirectToHome",value:function(e){this.setState({redirect:!0})}},{key:"render",value:function(){return this.state.redirect?r.a.createElement(d.a,{to:{pathname:"/quizapp/"}}):r.a.createElement("div",{className:"row justify-content-md-center"},r.a.createElement("div",{className:"col col-lg-6"},this.state.isLoading?r.a.createElement("div",{className:"row justify-content-md-center"}," ",r.a.createElement(j,null)," "):r.a.createElement(w.a,null,r.a.createElement(w.a.Header,{className:"purple-card-header"},r.a.createElement("b",null," Quiz Results")),r.a.createElement(w.a.Body,null,r.a.createElement(H.a,{striped:!0,bordered:!0,responsive:!0},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null," Overal Score"),r.a.createElement("td",null," ",this.state.results.finalScore)),r.a.createElement("tr",null,r.a.createElement("td",null," Total Marks"),r.a.createElement("td",null," ",this.state.results.quizTotal)),r.a.createElement("tr",null,r.a.createElement("td",null,"Percentage"),r.a.createElement("td",null,"".concat(this.state.percentage," %"))),r.a.createElement("tr",null,r.a.createElement("td",null," Remark"),r.a.createElement("td",{className:this.state.tdClassName},this.state.results.grade))))),r.a.createElement(w.a.Footer,null,r.a.createElement(b.a,{onClick:this.redirectToHome,variant:"success",className:"float-right float-sm-right"},r.a.createElement("span",null," Take Another Quiz"),r.a.createElement(N.a,{icon:O.c}))))))}}]),a}(n.Component),I=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement("div",null,r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/quizapp/",component:T}),r.a.createElement(d.b,{exact:!0,path:"/",component:T}),r.a.createElement(d.b,{exact:!0,path:"/results",component:U}),r.a.createElement(d.b,{path:"/quiz/:code",component:L}),r.a.createElement(d.b,{component:Q}))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[53,1,2]]]);
//# sourceMappingURL=main.39237070.chunk.js.map